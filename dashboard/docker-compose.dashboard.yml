services:
  salon-dashboard:
    build:
      # le chemin est relatif à CE fichier (dashboard/...)
      context: .
    container_name: salon-dashboard
    ports:
      - "8008:8000"
    env_file:
      # Copie `dashboard/dashboard.env.example` -> `dashboard/dashboard.env`
      - ./dashboard.env
    # Pour afficher les disques externes dans /api/system, monte ici les mêmes points de montage
    # que sur ton serveur (en lecture seule si tu veux).
    volumes:
      # ton disque externe (lsblk -> /mnt/medias)
      - ${MEDIA_MOUNT_PATH:-/mnt/medias}:/mnt/medias:ro
    networks:
      - media-net
    restart: unless-stopped

networks:
  media-net:
    external: true
    # compose renomme souvent le réseau en "<projet>_media-net"
    # (par défaut: "media-automation_media-net" si ton dossier s’appelle media-automation)
    name: ${MEDIA_NET_NAME:-media-automation_media-net}
